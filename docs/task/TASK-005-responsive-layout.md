# Task 005 - Web 端响应式布局改造方案（不含代码）

> 约束：本文档只写“技术与方案描述 / 验证方式 / 结果”，不要粘贴任何代码片段（含配置片段/命令行脚本/SQL）。

## 任务内容
- **要做什么**：对 `blc-vue` 的核心页面与通用布局做“桌面端响应式”改造，保证在不同浏览器窗口宽度、以及 80%~125% 缩放时不重叠、不溢出、信息层级保持合理。
- **为什么要做（背景/问题）**：
  - 当前存在较多固定宽度 / 行内样式 / float / 用于布局的 absolute（例如 `width: 990px/1000px/350px`、`float: left`、`position: absolute`），导致窗口变窄/变宽或缩放后出现截断、错位、横向滚动条。
- **目标（可量化）**：
  - 以“桌面端”为目标：推荐验收宽度区间 `1024px ~ 1920px`（含分屏），页面缩放 `80% / 90% / 100% / 110% / 125%` 下布局稳定。
  - ≥1024px 时：不出现非预期横向滚动条；导航/侧边栏/内容区不重叠；列表内容能自动换行/换列。
- **范围（包含/不包含）**：
  - **包含**：布局容器、列表/详情/表单等页面的尺寸与排版策略调整；把关键行内样式下沉到可维护的样式体系。
  - **不包含**：手机端专门适配（<=768px 的体验不作为验收重点）、后端接口改动、组件功能重写。
- **影响面（模块/接口/数据/用户）**：
  - 影响前端所有页面的展示与局部交互位置；不影响接口与数据结构。

## 具体实施方案

### 核心策略（选择“自适应布局”，不做整页缩放）
- 不采用整页等比缩放（例如通过整体缩放达到“看起来变小/变大”的方案），避免字体发虚、弹窗/下拉定位偏移、滚动与坐标计算异常等问题。
- 采用 Flex/Grid + 断点（media query）+ 相对单位（百分比、rem、clamp 思路）实现“布局自适应”。

### 关键决策
1. **统一容器体系**
   - 增加全局内容容器规范：`width: 100%` + 合理 `max-width`（如 1200/1440/1600 多档）+ 自适应左右 padding（随窗口变化）。
   - 页面内容尽量进入统一容器，避免各页面各写一套“固定宽度 + 居中”。
2. **断点只面向桌面端**
   - 建议断点：`1024 / 1280 / 1440 / 1600 / 1920`（按实际 UI 密度微调）。
   - 低于 1024 不作为强验收，但不应彻底崩坏（至少不遮挡关键操作/不出现严重重叠）。
3. **列表类页面用 Grid/自适应列数**
   - 电影/影单/卡片列表：使用自适应列数方案替换 float + 固定卡片宽度组合，确保窗口变窄时自动减少列数、保持间距一致。
4. **详情/文章类页面控制阅读宽度**
   - 文章详情、电影详情：主内容设置合理 `max-width`（避免超宽影响阅读），同时保持 `width: 100%` 以适配窄窗口；图片/富文本内容避免溢出容器。
5. **表单类页面改为“最大宽度 + 自适应”**
   - 登录/注册等：从固定宽度（如 350px）改为 `max-width` + `width: 100%`（窄窗口可收缩，宽窗口不无限拉伸）。
6. **减少用于布局的 absolute / 行内样式**
   - 保留“特效/叠层”用途的 absolute（例如 hero 文案居中、卡片背景层），但用于整体排版的 absolute 统一改为 flex/grid 方案。
7. **ElementUI 对齐策略**
   - 优先使用 `el-row/el-col` 的栅格能力（桌面端以 md/lg/xl 为主）；自定义布局部分用标准 flex/grid，并保证弹窗、下拉、分页等组件在容器内对齐。

### 优先改造对象（按“问题集中度”排序）
- 固定宽度明显：`blc-vue/src/components/Blog/Articles.vue`、`blc-vue/src/components/Blog/ArticleDetails.vue`、`blc-vue/src/components/library/*Management.vue`、`blc-vue/src/views/Login.vue`、`blc-vue/src/views/Register.vue`
- float/行内样式集中：`blc-vue/src/components/library/CollectionDefault.vue`、`blc-vue/src/components/library/AddCollectionDefault.vue`
- 顶层布局：`blc-vue/src/views/Home.vue`（存在绝对定位与 z-index 相关写法，容易影响整体滚动与高度表现）

### 步骤
1. **布局体检与分级**
   - 统计固定宽度、float、用于布局的 absolute、行内 style；按“影响全局 / 影响单页 / 影响局部组件”分级，输出优先级清单。
2. **建立全局 Layout + Container 规范**
   - 定义全局容器、间距、标题字号随宽度变化的上限/下限（避免过大或过小）。
3. **逐页改造：先骨架后细节**
   - 先改：导航/侧栏/主内容三段式骨架与滚动；再改列表布局；最后处理细节（按钮换行、标题省略、图片溢出）。
4. **清理行内样式与“硬编码宽度”**
   - 将行内样式迁移为 class；固定宽度改为 `max-width`/百分比/自适应列等策略。
5. **回归与统一验收**
   - 按验收清单逐页回归，记录问题与修复闭环。

## 过程验证（每步都可独立验收）
1. **验证点：全局是否出现横向滚动条**
   - **观察/指标**：窗口宽度 1024/1280/1440/1600/1920，缩放 80%~125%。
   - **通过标准**：≥1024px 无非预期横向滚动条；关键内容不被遮挡。
2. **验证点：导航/侧栏/内容区是否重叠**
   - **观察/指标**：分屏（例如 1200 宽）下导航、侧栏、内容区的位置关系。
   - **通过标准**：不重叠；内容区可正常滚动；弹窗/下拉定位正常。
3. **验证点：列表页的列数与卡片尺寸是否合理**
   - **观察/指标**：电影列表、影单列表在不同宽度下列数变化与间距变化。
   - **通过标准**：列数随宽度变化；卡片不挤压变形；间距一致；可点击区域不被遮挡。
4. **验证点：详情页与文章页内容是否溢出**
   - **观察/指标**：长标题、长简介、图片、富文本。
   - **通过标准**：不溢出容器；必要时省略/换行；图片不撑破布局。

## 最终结果验证
- **验收项**：桌面端主流程页面在不同窗口宽度/缩放下显示正确。
- **通过标准**：布局稳定、无重叠/错位/溢出；视觉间距一致；交互组件（分页/下拉/弹窗）可用。
- **回归范围**：首页、电影列表/详情、影单列表/管理、博客列表/详情、登录/注册、个人中心。

## 风险与回滚
- **风险点**：全局样式调整可能影响 ElementUI 默认样式与已有页面间距；局部覆盖可能引入样式优先级问题。
- **规避手段**：样式作用域控制（尽量组件内 scoped + 统一容器类）；改动分批提交，逐页验收。
- **回滚策略**：按页面/模块拆分提交；出现问题可回滚到上一个稳定提交或逐模块回滚。

## 里程碑 / 截止时间
- **开始**：2026-01-16
- **截止**：2026-01-18（可按实际排期调整）

## 关联信息
- **对应 Issue**：N/A（仓库暂未发现 `issue/README.md` 或 issue 登记入口）
- **相关 PR**：N/A

