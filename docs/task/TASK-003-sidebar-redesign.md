# Task: 侧边分类栏 (SideMenu) 布局优化与视觉重构

> 复制本文件为 `docs/task/TASK-003-sidebar-redesign.md`，并在 `issue/README.md` 中登记。

## 任务内容
- **要做什么**：重新设计并重构 `SideMenu` 组件及其在父组件 (`LibraryIndex.vue`) 中的布局方式。
- **为什么要做**：
    - 当前侧边栏与顶部导航栏 (`NavMenu`) 之间存在分离，视觉上不连贯。
    - 页面滚动时，侧边栏上方会出现难看的空白区域，导致空间浪费且不够美观。
    - 侧边栏的交互和视觉风格较为陈旧，缺乏现代感。
- **目标**：
    - 实现侧边栏与顶部导航栏的无缝衔接 (Seamless Integration)。
    - 优化滚动行为，确保侧边栏在内容滚动时保持合理的位置（如 Sticky 效果或全高固定）。
    - 提升整体视觉协调性。
- **范围**：`blc-vue/src/components/library/SideMenu.vue` 及引用该组件的页面（主要是 `LibraryIndex.vue`）。
- **影响面**：前台图书馆/电影列表页面的左侧导航区域。

## 具体实施方案

### 1. 布局设计优化 (Layout Redesign)
- **消除间隙**：移除 `SideMenu` 顶部的额外 Margin/Padding，使其紧贴顶部导航栏下方。
- **高度适配**：
    - **方案**：将侧边栏设置为视口高度减去导航栏高度 (`calc(100vh - 导航栏高度)`)，并固定在左侧。
    - **滚动策略**：
        - 左侧分类栏固定不动 (Fixed/Sticky)。
        - 右侧内容区域独立滚动。
- **视觉风格**：
    - 增加侧边栏的背景色（如极淡的灰色 #F9FAFC）以区分内容区。
    - 选中项增加明显的左侧高亮条或背景色块，增强选中状态的感知。
    - 调整文字间距和图标大小，使其更符合现代 UI 规范。

### 2. 技术实现思路
- **父组件调整 (`LibraryIndex.vue`)**：
    - 使用 Flexbox 布局容器：左侧定宽，右侧自适应 (`flex: 1`)。
    - 确保容器占满剩余屏幕高度。
- **侧边栏组件调整 (`SideMenu.vue`)**：
    - 去除可能导致间隙的默认样式。
    - 使用 `<el-menu>` 的 `fixed` 模式或 CSS `position: sticky; top: 导航栏高度`。
    - 优化 CSS 样式，去除圆角或调整为仅右侧圆角，使其看起来像是一个完整的侧边面板。

## 步骤
1.  **样式重置**：检查并移除 `SideMenu` 和 `LibraryIndex` 中导致顶部间隙的 `margin-top` 或 `padding-top`。
2.  **布局重构**：
    - 修改 `LibraryIndex.vue` 的根容器样式，建立 `display: flex` 上下文。
    - 设定侧边栏区域的宽度和定位方式。
3.  **侧边栏固定**：
    - 在 `SideMenu.vue` 中应用 `position: fixed` 或 `position: sticky`。
    - 设置 `top` 值为导航栏的实际高度（需测量，通常为 60px-80px）。
    - 设置 `height` 为 `100%` 或 `calc(100vh - top)`.
4.  **美化细节**：
    - 调整菜单项 (`el-menu-item`) 的 Hover 和 Active 样式。
    - 增加右侧边框 (`border-right`) 分割线。

## 过程验证
1.  **验证点：顶部衔接**
    -   **观察**：页面加载后，侧边栏顶部是否紧贴导航栏，无白色间隙。
    -   **通过标准**：视觉上无缝连接。
2.  **验证点：滚动行为**
    -   **观察**：滚动右侧电影列表时，观察左侧分类栏是否会随之滚动消失，或上方是否出现留白。
    -   **通过标准**：左侧分类栏应保持固定或 Sticky 状态，始终可见，且位置稳定。
3.  **验证点：响应式**
    -   **观察**：缩小窗口宽度。
    -   **通过标准**：布局不崩坏，或者在小屏幕下侧边栏自动隐藏/变为抽屉式（如果在此次范围内，否则保持不崩坏即可）。

## 最终结果验证
-   **验收项**：进入电影/图书列表页。
-   **通过标准**：侧边栏设计美观，固定在左侧，滚动右侧内容时左侧不受影响，且无视觉割裂感。
-   **回归范围**：确保点击分类仍然能正确筛选右侧内容。

## 风险与回滚
-   **风险点**：CSS `position: fixed` 可能导致在不同分辨率下覆盖内容或高度计算错误。
-   **规避手段**：优先使用 Flexbox + `height: 100vh` + `overflow-y: auto` (内容区) 的布局方式，避免复杂的绝对定位计算。
-   **回滚策略**：回退 CSS 和 Vue 文件的修改。

## 里程碑 / 截止时间
-   **开始**：2026-01-16
-   **截止**：2026-01-16 (设计阶段)

## 关联信息
-   **对应 Issue**：N/A
-   **相关组件**：`blc-vue/src/components/library/SideMenu.vue`, `blc-vue/src/components/library/LibraryIndex.vue`
